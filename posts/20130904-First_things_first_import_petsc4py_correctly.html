<!DOCTYPE html>
<html>
<head>
<title>First things first: import petsc4py correctly</title>
<!-- 2015-01-09 Fri 08:46 -->
<meta  charset="utf-8">
<meta  name="generator" content="Org-mode">
<meta  name="author" content="SÃ©bastien Brisard">
<link href="./../css/theme.css" rel="stylesheet" />
</head>
<body>
<div id="preamble" class="status">
<div class="navbar"><a href="./../index.html">Home</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../pages/about.html">About me</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../pages/references.html">References</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../posts/archives.html">Archives</a></div>
</div>
<div id="content">
<h1 class="title">First things first: import petsc4py correctly</h1>
<p>
<a href="https://bitbucket.org/petsc/petsc4py">petsc4py</a> can pass command line arguments to <code>PETSc</code>, such as the very useful <code>-log_summary</code>. This would typically be done by passing these arguments to <code>petsc4py.init()</code>. However, this command must be invoked before any other <code>petsc4py</code> command. In other words
</p>

<div class="org-src-container">

<pre class="src src-python"><span class="org-keyword">from</span> petsc4py <span class="org-keyword">import</span> PETSc
</pre>
</div>

<p>
must be placed <i>after</i> this initialization. To sum up, a typical initialization sequence of  <code>petsc4py</code> should look something like
</p>

<div class="org-src-container">

<pre class="src src-python"><span class="org-keyword">import</span> sys
<span class="org-keyword">import</span> petsc4py

petsc4py.init(sys.argv)

<span class="org-keyword">from</span> petsc4py <span class="org-keyword">import</span> PETSc
</pre>
</div>

<p>
It took me some time (and Lissandro's help) to figure out that switching the las two lines (although more good looking) was wrong&#x2026;
</p>
</div>
<div id="postamble" class="status">
<p>This blog was generated with <a href="http://www.gnu.org/software/emacs/">Emacs</a> and <a href="http://orgmode.org/">Org mode</a>. The theme is inspired from <a href="http://orgmode.org/worg/">Worg</a>.</p>
<a href="https://twitter.com/SebBrisard" class="twitter-follow-button" data-show-count="false">Follow @SebBrisard</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<script type="text/javascript">
var disqus_shortname = 'sbrisard';
var disqus_identifier = 'posts/20130904-First_things_first_import_petsc4py_correctly';
var disqus_title = 'First things first: import petsc4py correctly';
var disqus_url = 'http://sbrisard.github.io/posts/20130904-First_things_first_import_petsc4py_correctly.html';
(function() {
var dsq = document.createElement('script');
dsq.type = 'text/javascript';
dsq.async = true;
dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
</div>
</body>
</html>
